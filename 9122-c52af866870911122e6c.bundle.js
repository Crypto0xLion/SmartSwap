"use strict";(self.webpackChunksmardex_web=self.webpackChunksmardex_web||[]).push([[9122],{11570:function(t,e,r){r.d(e,{P:function(){return c},x:function(){return A}});var n=r(23733),s=r(54986),i=r(16139);const o=1380011588;function a(t){return t.params["approval-program"]=Buffer.from(t.params["approval-program"].toString(),"base64"),t.params["clear-state-program"]=Buffer.from(t.params["clear-state-program"].toString(),"base64"),t}async function c({client:t,txns:e,protocolVersion:r,latestTimestamp:c,round:l,sources:p}){const u=[],h=[],g=[],f=[],d=[];for(const t of e)t.txn.type===s.i.appl&&(d.push((0,i.encodeAddress)(t.txn.from.publicKey)),t.txn.appAccounts&&d.push(...t.txn.appAccounts.map((t=>(0,i.encodeAddress)(t.publicKey)))),t.txn.appForeignApps&&(g.push(...t.txn.appForeignApps),d.push(...t.txn.appForeignApps.map((t=>(0,i.getApplicationAddress)(t))))),t.txn.appForeignAssets&&f.push(...t.txn.appForeignAssets),void 0===t.txn.appIndex||0===t.txn.appIndex?u.push(new n.Application(o,new n.ApplicationParams({creator:(0,i.encodeAddress)(t.txn.from.publicKey),approvalProgram:t.txn.appApprovalProgram,clearStateProgram:t.txn.appClearProgram,localStateSchema:new n.ApplicationStateSchema(t.txn.appLocalInts,t.txn.appLocalByteSlices),globalStateSchema:new n.ApplicationStateSchema(t.txn.appGlobalInts,t.txn.appGlobalByteSlices)}))):(g.push(t.txn.appIndex),d.push((0,i.getApplicationAddress)(t.txn.appIndex))));const A=[];for(const e of[...new Set(f)])A.push(t.getAssetByID(e).do().then((t=>{d.push(t.params.creator)})));await Promise.all(A);const m=[];for(const e of[...new Set(g)])m.push(t.getApplicationByID(e).do().then((t=>{const e=a(t);u.push(e),d.push(e.params.creator)})));await Promise.all(m);const y=[];for(const e of[...new Set(d)])y.push(t.accountInformation(e).do().then((t=>{"created-apps"in t&&(t["created-apps"]=t["created-apps"].map((t=>a(t)))),h.push(t)})));return await Promise.all(y),new n.DryrunRequest({txns:e.map((t=>({...t,txn:t.txn.get_obj_for_encoding()}))),accounts:h,apps:u,latestTimestamp:c,round:l,protocolVersion:r,sources:p})}class l{constructor(t){this.type=0,this.bytes="",this.uint=0,this.type=t.type,this.bytes=t.bytes,this.uint=t.uint}toString(){return 1===this.type?`0x${Buffer.from(this.bytes,"base64").toString("hex")}`:this.uint.toString()}}class p{constructor(t){this.error="",this.line=0,this.pc=0,this.scratch=[],this.stack=[],this.error=void 0===t.error?"":t.error,this.line=t.line,this.pc=t.pc,this.scratch=t.scratch,this.stack=t.stack.map((t=>new l(t)))}}class u{constructor(t){this.trace=[],null!=t&&(this.trace=t.map((t=>new p(t))))}}function h(t,e){return t.length>e&&e>0?`${t.slice(0,e)}...`:t}function g(t,e){if(0===e.length)return"";let r=null;for(let n=0;n<e.length;n++)(n>t.length||JSON.stringify(t[n])!==JSON.stringify(e[n]))&&(r=n);if(null==r)return"";const n=e[r];return n.bytes.length>0?`${r} = 0x${Buffer.from(n.bytes,"base64").toString("hex")}`:`${r} = ${n.uint.toString()}`}function f(t,e){return`[${(e?t.reverse():t).map((t=>{switch(t.type){case 1:return`0x${Buffer.from(t.bytes,"base64").toString("hex")}`;case 2:return`${t.uint.toString()}`;default:return""}})).join(", ")}]`}class d{constructor(t){this.disassembly=[],this.appCallMessages=[],this.localDeltas=[],this.globalDelta=[],this.cost=0,this.logicSigMessages=[],this.logicSigDisassembly=[],this.logs=[],this.appCallTrace=void 0,this.logicSigTrace=void 0,this.required=["disassembly"],this.optionals=["app-call-messages","local-deltas","global-delta","cost","logic-sig-messages","logic-sig-disassembly","logs"],this.traces=["app-call-trace","logic-sig-trace"],this.disassembly=t.disassembly,this.appCallMessages=t["app-call-messages"],this.localDeltas=t["local-deltas"],this.globalDelta=t["global-delta"],this.cost=t.cost,this.logicSigMessages=t["logic-sig-messages"],this.logicSigDisassembly=t["logic-sig-disassembly"],this.logs=t.logs,this.appCallTrace=new u(t["app-call-trace"]),this.logicSigTrace=new u(t["logic-sig-trace"])}appCallRejected(){return void 0!==this.appCallMessages&&this.appCallMessages.includes("REJECT")}logicSigRejected(){return void 0!==this.logicSigMessages&&this.logicSigMessages.includes("REJECT")}static trace(t,e,r){const n=r.maxValueWidth||30,s=[["pc#","ln#","source","scratch","stack"]];for(let i=0;i<t.trace.length;i++){const{line:o,error:a,pc:c,scratch:l,stack:p}=t.trace[i],u=void 0!==l?l:[],d=i>0&&void 0!==t.trace[i-1].scratch?t.trace[i-1].scratch:[],A=""===a?e[o]:`!! ${a} !!`;s.push([c.toString().padEnd(3," "),o.toString().padEnd(3," "),h(A,n),h(g(d,u),n),h(f(p,r.topOfStackFirst),n)])}const i=s.reduce(((t,e)=>{const r=new Array(s[0].length).fill(0);for(let n=0;n<t.length;n++)r[n]=e[n].length>t[n]?e[n].length:t[n];return r}),new Array(s[0].length).fill(0));return`${s.map((t=>t.map(((t,e)=>t.padEnd(i[e]+1," "))).join("|").trim())).join("\n")}\n`}appTrace(t){if(void 0===this.appCallTrace||!this.disassembly)return"";let e=t;return void 0===t&&(e={maxValueWidth:30,topOfStackFirst:!1}),d.trace(this.appCallTrace,this.disassembly,e)}lsigTrace(t){if(void 0===this.logicSigTrace||void 0===this.logicSigDisassembly)return"";let e=t;return void 0===t&&(e={maxValueWidth:30,topOfStackFirst:!0}),d.trace(this.logicSigTrace,this.logicSigDisassembly,e)}}class A{constructor(t){this.error="",this.protocolVersion="",this.txns=[],this.error=t.error,this.protocolVersion=t["protocol-version"],this.txns=t.txns.map((t=>new d(t)))}}},16139:function(t,e,r){r.r(e),r.d(e,{ALGORAND_ZERO_ADDRESS_STRING:function(){return u},CHECKSUM_ADDRESS_ERROR_MSG:function(){return d},INVALID_MSIG_PK_ERROR_MSG:function(){return y},INVALID_MSIG_THRESHOLD_ERROR_MSG:function(){return m},INVALID_MSIG_VERSION_ERROR_MSG:function(){return A},MALFORMED_ADDRESS_ERROR_MSG:function(){return f},UNEXPECTED_PK_LEN_ERROR_MSG:function(){return S},decodeAddress:function(){return E},encodeAddress:function(){return w},fromMultisigPreImg:function(){return x},fromMultisigPreImgAddrs:function(){return _},getApplicationAddress:function(){return I},isValidAddress:function(){return b}});var n=r(89090),s=r.n(n),i=r(71569),o=r(67069),a=r(64059);const c=36,l=4,p=58,u="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",h=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),g=Buffer.from("appID"),f="address seems to be malformed",d="wrong checksum for address",A="invalid multisig version",m="bad multisig threshold",y="bad multisig public key - wrong length",S="nacl public key length is not 32 bytes";function E(t){if("string"!=typeof t||t.length!==p)throw new Error(f);const e=s().decode.asBytes(t.toString());if(e.length!==c)throw new Error(f);const r=new Uint8Array(e.slice(0,c-l)),n=new Uint8Array(e.slice(i.PUBLIC_KEY_LENGTH,c)),a=i.genericHash(r).slice(i.HASH_BYTES_LENGTH-l,i.HASH_BYTES_LENGTH);if(!o.arrayEqual(a,n))throw new Error(d);return{publicKey:r,checksum:n}}function b(t){try{E(t)}catch(t){return!1}return!0}function w(t){const e=i.genericHash(t).slice(i.PUBLIC_KEY_LENGTH-l,i.PUBLIC_KEY_LENGTH);return s().encode(o.concatArrays(t,e)).toString().slice(0,p)}function x({version:t,threshold:e,pks:r}){if(1!==t||t>255||t<0)throw new Error(A);if(0===e||0===r.length||e>r.length||e>255)throw new Error(m);const n=c-l;if(n!==i.PUBLIC_KEY_LENGTH)throw new Error(S);const s=new Uint8Array(h.length+2+n*r.length);s.set(h,0),s.set([t],h.length),s.set([e],h.length+1);for(let t=0;t<r.length;t++){if(r[t].length!==n)throw new Error(y);s.set(r[t],h.length+2+t*n)}return new Uint8Array(i.genericHash(s))}function _({version:t,threshold:e,addrs:r}){return w(x({version:t,threshold:e,pks:r.map((t=>E(t).publicKey))}))}function I(t){const e=o.concatArrays(g,(0,a.T)(t)),r=i.genericHash(e);return w(new Uint8Array(r))}},65527:function(t,e,r){function n(t,e){let r=t.toString(16);r.length!==2*e&&(r=r.padStart(2*e,"0"));const n=new Uint8Array(r.length/2);for(let t=0,e=0;t<r.length/2;t++,e+=2)n[t]=parseInt(r.slice(e,e+2),16);return n}function s(t){let e=BigInt(0);const r=Buffer.from(t);for(let n=0;n<t.length;n++)e=BigInt(Number(r.readUIntBE(n,1)))+e*BigInt(256);return e}r.d(e,{j:function(){return n},v:function(){return s}})},7783:function(t,e,r){r.r(e),r.d(e,{ERROR_CONTAINS_EMPTY_STRING:function(){return s},decode:function(){return o},encode:function(){return i}});var n=r(66424);const s="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function i(t){const e=function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e)&&(!t[e]||0===t[e].length))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}(t);if(e.containsEmpty)throw new Error(s+e.firstEmptyKey);return n.encode(t,{sortKeys:!0})}function o(t){return n.decode(t)}},64059:function(t,e,r){function n(t){if(!("bigint"==typeof t||Number.isInteger(t))||t<0||t>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const e=Buffer.allocUnsafe(8);return e.writeBigUInt64BE(BigInt(t)),new Uint8Array(e)}function s(t,e="safe"){if("safe"!==e&&"mixed"!==e&&"bigint"!==e)throw new Error(`Unknown decodingMode option: ${e}`);if(0===t.byteLength||t.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${t.byteLength}`);const r=Buffer.allocUnsafe(8-t.byteLength);r.fill(0);const n=Buffer.concat([r,Buffer.from(t)]).readBigUInt64BE(),s=n>Number.MAX_SAFE_INTEGER;if("safe"===e){if(s)throw new Error(`Integer exceeds maximum safe integer: ${n.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(n)}return"mixed"!==e||s?n:Number(n)}r.d(e,{T:function(){return n},u:function(){return s}})}}]);