"use strict";(self.webpackChunksmardex_web=self.webpackChunksmardex_web||[]).push([[3095],{19981:function(e,t,a){a.d(t,{Z:function(){return s}});var n=a(67294),r=a(35716);function s(){return n.createElement(n.Fragment,null,n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide-2s absolute left-[10%] h-7 w-7"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide absolute left-[20%] h-6 w-6"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide absolute left-[30%] h-3 w-3"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide-2s absolute left-[40%] h-8 w-8"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide-1s absolute left-[50%] h-5 w-5"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide-2s absolute right-[40%] h-3 w-3"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide absolute right-[30%] h-4 w-4"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide absolute right-[20%] h-6 w-6"}),n.createElement("img",{src:r,alt:"SMART token",className:"animate-y-slide-2s absolute right-[10%] h-5 w-5"}))}},43095:function(e,t,a){a.r(t),a.d(t,{default:function(){return B}});var n=a(67294),r=a(67814),s=a(59417),o=a(79655),l=a(95998),c=a(47031),i=a(22852),u=a(60263),d=a(38350),m=a(46333),p=a(56126),b=a(64463),f=a(79003),h=a(33596),E=a(37123),w=a(78317),y=a(63637),g=a(6303),k=a(9642),T=a(81624),v=a(25288),x=a(13207),N=a(20637),S=a(19981),C=a(61158),A=a(26141),I=a(34288);const P='<iframe src="_URL_" style="border:0 #fff none;" name="smardex-swap" scrolling="yes" frameborder="0" marginheight="0px" marginwidth="0px" height="900px" width="450px" allowfullscreen></iframe>';function D(e){let{className:t}=e;const a=()=>{navigator.clipboard.writeText(P.replace("_URL_",window.location.href.replace("/swap","/embed/swap")))};return n.createElement(A.p,{as:"div",className:(0,p.AK)(t,"overflow-hidden rounded-sm border border-white/[.3] bg-green-dark")},(e=>{let{open:t}=e;return n.createElement(n.Fragment,null,n.createElement(A.p.Button,{as:"div",className:"relative flex cursor-pointer items-center justify-center space-x-1 p-1.5 text-xs"},n.createElement("span",null,"EMBED THIS SWAP MODULE"),n.createElement(r.G,{fixedWidth:!0,icon:s.dT$}),n.createElement(r.G,{fixedWidth:!0,className:(0,p.AK)("absolute inset-y-0 right-2 h-full text-buy transition-transform",t&&"rotate-180"),icon:s.ptq})),n.createElement(c.u,{appear:!0,show:t,enter:"ease-in duration-500 lg:duration-300",enterFrom:"opacity-0 max-h-0",enterTo:"opacity-100 max-h-60",leave:"ease-out duration-500 lg:duration-300",leaveFrom:"opacity-100 max-h-60",leaveTo:"opacity-0 max-h-0"},n.createElement(A.p.Panel,{as:"div",static:!0,className:"p-4"},n.createElement("div",{className:"text-center text-xs text-gray-medium"},"Here is the code for the module as displayed above."),n.createElement("textarea",{readOnly:!0,rows:5,className:"my-2 w-full rounded-sm border border-white/[.3] bg-white/[.2] p-2 text-xs",value:P.replace("_URL_",window.location.href.replace("/swap","/embed/swap"))}),n.createElement("div",{className:"flex justify-center"},n.createElement("button",{type:"button",className:"btn space-x-1",onClick:a},n.createElement("span",null,"Copy Code"),n.createElement(r.G,{className:"flex-none",icon:I.kZ_}))))))}))}function B(){let e;const t=(0,l.I0)(),a=(0,l.v9)((e=>e.swap)),A=(0,l.v9)((e=>e.network)),I=(0,E.Z)(),{isConnected:P,address:B}=(0,d.mA)(),{openConnectModal:R}=(0,m.We)(),[F,U]=(0,o.lr)(),{switchNetwork:O}=(0,d.g0)({onSuccess(t){e()}}),[X,Z]=(0,n.useState)(!1),[_,L]=(0,n.useState)(!1),[G,M]=(0,n.useState)(!1),[z,Y]=(0,n.useState)(!1),[K,W]=(0,n.useState)(!1),[V,$]=(0,n.useState)({show:!1}),[j,J]=(0,n.useState)(),H=(0,n.useRef)(!0),q=(0,n.useRef)({tokenA:null,tokenB:null}),Q=(0,n.useRef)({a:void 0,b:void 0}),ee=(0,n.useRef)(null),te=(0,n.useRef)(null);e=(0,n.useCallback)((()=>{const e=q.current.tokenA||F.get("tokenA"),a=q.current.tokenB||F.get("tokenB");let n,r;e!==a&&e&&a&&(n=t.token.getTokenFromState(e),r=t.token.getTokenFromState(a)),n&&r||(n=t.token.getNativeFromState(void 0),r=t.token.getSDEXFromState(void 0)),n&&r&&(Q.current={a:n,b:r},ee.current?.selectToken(n),te.current?.selectToken(r),U({chainId:A?.chain.id.toString(),tokenA:n?.address||"",tokenB:r?.address||""}))}),[F,A?.chain]);const ae=(0,n.useCallback)((()=>{I()&&(t.swap.setBestTrade(void 0),M(!1),Y(!1),L(!1),Z(!1),U({chainId:A?.chain.id.toString(),tokenA:Q.current.a?.address||"",tokenB:Q.current.b?.address||""}),ee.current?.resetAmount(),te.current?.resetAmount())}),[I,A?.chain]),ne=(0,n.useCallback)((e=>{if(e.trim().length){const{a:a,b:n}=Q.current,r=(0,i.v)(e,a?.decimals||w.p8);M(!1),a&&n&&r>0n&&(a.wrap&&n.hasNative||a.hasNative&&n.wrap?(Y(!!a.wrap),t.swap.setWrapUnwrapAmount(r)):(Y(!1),t.swap.getBestTrade({from:a,to:n,fromAmount:r,toAmount:0n})))}else ae()}),[ae]),re=(0,n.useCallback)((e=>{if(e.trim().length){const{a:a,b:n}=Q.current,r=(0,i.v)(e,n?.decimals||w.p8);a&&n&&r>0n&&(M(!1),n.wrap&&a.hasNative||n.hasNative&&a.wrap?(Y(!!a.wrap),t.swap.setWrapUnwrapAmount(r)):(Y(!1),t.swap.getBestTrade({from:a,to:n,fromAmount:0n,toAmount:r})))}else ae()}),[ae]),se=(0,n.useCallback)((()=>{const{a:e,b:n}=Q.current;if(e&&n){const{bestTrade:r,wrapUnwrapAmount:s,mode:o,fetchingBestTrade:l}=a;if(Q.current.a=n,Q.current.b=e,ee.current?.selectToken(n,!1),te.current?.selectToken(e,!1),r){if(l)return;t.swap.setFetchingBestTrade(!0),o===x.YL.EXACT_INPUT?(te.current?.resetAmount(),ee.current?.setAmount((0,u.b)(r.amountOut.amount,n?.decimals))):(ee.current?.resetAmount(),te.current?.setAmount((0,u.b)(r.amountIn.amount,e?.decimals)))}else s&&(ee.current?.setAmount((0,u.b)(s,e.decimals)),ee.current?.reload());W(!K),U({chainId:A?.chain.id.toString(),tokenA:n.address||"",tokenB:e.address||""})}}),[K,a?.bestTrade?.amountOut,a?.bestTrade?.amountOut,a?.wrapUnwrapAmount,a?.fetchingBestTrade,A?.chain]),oe=(0,n.useCallback)((()=>{M(!1),t.swap.getFinalBestTrade(void 0).then((e=>{M(!0),Z(e)}))}),[]),le=(0,n.useCallback)((()=>{const{bestTrade:e}=a;e&&(X?oe():e.tradeType===x.YL.EXACT_INPUT?ne((0,u.b)(e.amountIn.amount,Q.current.a?.decimals||w.p8)):re((0,u.b)(e.amountOut.amount,Q.current.b?.decimals||w.p8)))}),[a?.bestTrade,X,ne,re,oe]),ce=(0,n.useCallback)((e=>{const{b:t}=Q.current;if(e.address!==t?.address||(e.wrap&&t?.hasNative||e.hasNative&&t?.wrap)){const{bestTrade:n}=a,r=Q.current.a?.decimals||w.p8;if(Q.current.a=e,n)n.tradeType===x.YL.EXACT_INPUT?ne((0,u.b)(n.amountIn.amount,r)):re((0,u.b)(n.amountOut.amount,t?.decimals||w.p8));else{const{mode:e}=a;e===x.YL.EXACT_INPUT?ee.current?.reload():te.current?.reload()}U({chainId:A?.chain.id.toString(),tokenA:Q.current.a?.address||"",tokenB:t?.address||""})}else se()}),[a?.bestTrade,se,A?.chain]),ie=(0,n.useCallback)((e=>{const{a:t}=Q.current;if(e.address!==t?.address||(e.wrap&&t?.hasNative||e.hasNative&&t?.wrap)){const{bestTrade:n}=a,r=Q.current.b?.decimals;if(Q.current.b=e,n)n.tradeType===x.YL.EXACT_INPUT?ne((0,u.b)(n.amountIn.amount,t?.decimals||w.p8)):re((0,u.b)(n.amountOut.amount,r||w.p8));else{const{mode:e}=a;e===x.YL.EXACT_INPUT?ee.current?.reload():te.current?.reload()}U({chainId:A?.chain.id.toString(),tokenA:t?.address||"",tokenB:Q.current.b?.address||""})}else se()}),[a?.bestTrade,se,A?.chain]),ue=(0,n.useCallback)((e=>{J(e.amount||void 0)}),[]),de=(0,n.useCallback)((()=>{I()&&(L(!1),X&&oe())}),[I,X,oe]),me=(0,n.useCallback)((e=>{const{bestTrade:n}=a;if(A&&n&&e){const{OdosRouter:a,SmardexRouter:r}=A.chain,s=n.odosPathId?a?.address:r.address;if(!s)return;const o=0n===e.allowance?w.iD:0n;t.token.approve({token:e,spender:s,amount:o,onSuccess:async()=>{0n===o?await t.token.approve({token:e,spender:s,amount:w.iD,onSuccess:async()=>{I()&&de()},onError:async()=>{I()&&de()}}):I()&&de()},onError:async()=>{I()&&de()}})}else L(!1);$({show:!1,token:void 0})}),[I,de,a?.bestTrade,A?.chain]),pe=(0,n.useCallback)((async()=>{const e=Q.current.a,{bestTrade:n}=a;if(A&&n&&e){const{OdosRouter:a,SmardexRouter:r}=A.chain,s=n.odosPathId?a?.address:r.address;if(!s)return;L(!0);const o=await t.token.getAllowance({token:e,spender:s});e.resetAllowance&&o?(e.allowance=o,o>0n?$({show:!0,token:e}):me(e)):t.token.approve({token:e,spender:s,amount:w.iD,onSuccess:async()=>{de()},onError:async()=>{de()}})}}),[I,me,de,a?.bestTrade,A?.chain]),be=(0,n.useCallback)((()=>{Z(!1)}),[]),fe=(0,n.useCallback)((async()=>{const{a:e,b:n}=Q.current,{bestTrade:r}=a;if(L(!0),e&&n&&r){let a;a=r.odosAssemble?"swapWithOdos":r.tradeType===x.YL.EXACT_INPUT?"swapExactIn":"swapExactOut",await t.swap[a]({from:e,to:n,onSuccess:async()=>{ee.current?.refresh(),te.current?.refresh(),ae()},onError:async()=>{I()&&(L(!1),Z(!1))}})}}),[a?.bestTrade?.amountOut,a?.bestTrade?.amountIn,ae,I]),he=(0,n.useCallback)((async()=>{const{a:e,b:a}=Q.current;L(!0),e&&a&&await t.swap.wrapUnwrap({from:e,to:a,onSuccess:async()=>{ee.current?.refresh(),te.current?.refresh(),ae()},onError:async()=>{I()&&L(!1)}})}),[ae,I]);return(0,n.useEffect)((()=>{const{mode:e,settings:{aggregator:n}}=a;t.swap.abortGetBestTrade(void 0),e===x.YL.EXACT_OUTPUT?n?ae():te.current?.reload():ee.current?.reload()}),[a?.settings.slippage,a?.settings.hops,a?.settings.aggregator]),(0,n.useEffect)((()=>{a?.wrapUnwrapAmount||M(!!a?.bestTrade)}),[a?.bestTrade?.amountOut,a?.bestTrade?.amountIn]),(0,n.useEffect)((()=>{H.current||(t.swap.abortGetBestTrade(void 0),e())}),[A?.chain,B]),(0,n.useEffect)((()=>{const a=F.get("chainId");if(a){const e=C.D.find((e=>e.id===parseInt(a,10)));e&&e.id!==A?.chain.id&&(P?(q.current={tokenA:F.get("tokenA"),tokenB:F.get("tokenB")},O?.(e.id)):t.network.setChain(e))}return e(),H.current=!1,()=>{t.swap.abortGetBestTrade(void 0),t.swap.setBestTrade(void 0),t.swap.setFetchingBestTrade(!1)}}),[]),n.createElement(n.Fragment,null,n.createElement(b.Z,{title:"Swap",description:"Trade your tokens simply for other ERC20 tokens either from the wide collection of Sentia Protocol Token Collection or even import any ERC20 token you like directly with its proper address.",canonical:(0,p.Z2)("/swap")}),n.createElement("div",{className:"px-2 pb-24 pt-36 lg:px-0"},n.createElement("div",{className:"container mx-auto flex flex-col items-start px-2 lg:flex-row lg:space-x-28 lg:px-0"},n.createElement("div",{className:"flex w-full flex-col justify-center space-y-12 lg:w-3/5"},n.createElement("div",{className:"font-styrene"},n.createElement("h3",{className:"text-[0.75rem] text-gray-medium"},"PEER-TO-PEER TRADING X ODOS"),n.createElement("h2",{className:"text-[2rem] font-light leading-[130%] tracking-[-0.25rem] lg:text-[2.5rem]"},"Our Hybrid Aggregator ",n.createElement("span",{className:"text-buy"},"will always give you the best price")," for your swaps."),n.createElement("h4",{className:"mt-2 text-sm font-light text-gray-light"},"Everything is taken into account, ",n.createElement("span",{className:"text-buy"},"including gas and fees."))),n.createElement("div",{className:"relative hidden lg:block"},n.createElement(c.u,{appear:!0,show:!a?.bestTrade?.pathViz,enter:"transition-all duration-500",enterFrom:"opacity-0 max-h-0 mb-0",enterTo:"opacity-100 max-h-[25rem] mb-7",leave:"transition-all duration-500",leaveFrom:"opacity-100 max-h-[25rem] mb-7",leaveTo:"opacity-0 max-h-0 mb-0"},n.createElement(S.Z,null)),n.createElement(c.u,{appear:!0,show:!!a?.bestTrade?.pathViz,enter:"transition-all duration-500",enterFrom:"opacity-0 max-h-0 mb-0",enterTo:"opacity-100 max-h-[35rem] mb-7",leave:"transition-all duration-500",leaveFrom:"opacity-100 max-h-[35rem] mb-7",leaveTo:"opacity-0 max-h-0 mb-0"},n.createElement(N.Z,{data:a?.bestTrade?.pathViz})))),n.createElement("div",{className:"mt-[3.75rem] w-full lg:mt-0 lg:w-2/5"},n.createElement("div",{className:"relative rounded-sm border border-white/[.3] bg-green-dark p-4 lg:p-8"},n.createElement(c.u,{as:"div",appear:!0,show:X,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"absolute inset-0 z-40 rounded-lg bg-green-dark/[.1] backdrop-blur-[2px]"}),n.createElement("div",{className:"flex flex-col"},n.createElement("div",{className:"flex items-center justify-between space-x-4"},n.createElement("h1",{className:"shrink font-haffer-sq text-2xl text-white/[.8]"},"Swap"),n.createElement("div",{className:"flex-none"},n.createElement(f.Z,null))),n.createElement("div",{className:"mb-7 mt-4 flex flex-col items-stretch space-y-4"},n.createElement(h.Z,{ref:ee,type:x.YL.EXACT_INPUT,onSelectToken:ce,onAmountChange:ne,onErrors:ue}),n.createElement("div",{className:"relative h-10"},a?.fetchingBestTrade?n.createElement(r.G,{className:(0,p.AK)("absolute top-[50%] h-4 w-4 -translate-x-1/2 -translate-y-1/2 animate-pulse rounded-full border border-white/[.3] p-1 text-white/[.3]",a?.bestTrade?"left-4":"left-[50%] "),icon:s.B2l}):n.createElement(r.G,{role:"button",className:(0,p.AK)("absolute top-[50%] h-4 w-4 -translate-x-1/2 -translate-y-1/2 rounded-full border border-buy p-1 text-buy transition-all duration-300 hover:border-white hover:text-white",a?.bestTrade?"left-4":"left-[50%]",K?"rotate-[270deg]":"rotate-90"),icon:s.eRx,onClick:se}),n.createElement(c.u,{as:"div",appear:!0,show:!!a.bestTrade,enter:"transition-opacity duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"flex h-full items-center justify-between space-x-2 pl-10"},n.createElement(y.Z,null),!_&&!a?.fetchingBestTrade&&a?.bestTrade&&n.createElement("div",{className:"relative w-[1rem] shrink"},n.createElement(g.Z,{id:"tooltip-swap-timer",place:"top",text:"Displayed data will auto-refresh after 30 seconds."}),n.createElement("div",{"data-tooltip-id":"tooltip-swap-timer",className:"-mx-3"},n.createElement(k.Z,{duration:15,onTerminate:le}))))),n.createElement(h.Z,{readonly:a?.settings.aggregator,ref:te,type:x.YL.EXACT_OUTPUT,onSelectToken:ie,onAmountChange:re})),n.createElement("div",{className:"relative z-40 w-full"},n.createElement(c.u,{as:"span",appear:!0,show:X,enter:"transition-opacity duration-500 ease-in",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity duration-500 ease-out",leaveFrom:"opacity-100",leaveTo:"opacity-0",className:"absolute -top-8 right-0 text-buy"},n.createElement(r.G,{role:"button",icon:s.WA2,size:"lg",onClick:be})),n.createElement(c.u,{appear:!0,show:!!a?.bestTrade,enter:"transition-all duration-500",enterFrom:"opacity-0 max-h-0 mb-0",enterTo:"opacity-100 max-h-52 mb-7",leave:"transition-all duration-500",leaveFrom:"opacity-100 max-h-52 mb-7",leaveTo:"opacity-0 max-h-0 mb-0"},n.createElement(T.Z,{className:(0,p.AK)("border transition-shadow duration-500",X?"border-buy":"border-white")}))),n.createElement("div",{className:"z-40 flex-1"},P?n.createElement(n.Fragment,null,G&&!j&&n.createElement("div",null,X?n.createElement("div",null,a?.bestTrade?.hasAllowance?n.createElement("button",{type:"button",className:(0,p.AK)("btn-outline w-full p-4",_&&"opacity-50"),onClick:fe,disabled:_},_?n.createElement(r.G,{spin:!0,icon:s.IJ7}):`Confirm Swap ${Q.current.a?.symbol} for ${Q.current.b?.symbol}`):n.createElement("button",{type:"button",className:(0,p.AK)("btn-outline w-full border-blue-400 p-4 text-blue-400 hover:border-dark hover:text-dark",_&&"opacity-50"),onClick:pe,disabled:_},_?n.createElement(r.G,{spin:!0,icon:s.IJ7}):`Approve ${Q.current.a?.symbol} Token`)):n.createElement("button",{type:"button",className:(0,p.AK)("btn-outline w-full p-4",_&&"opacity-50"),onClick:oe,disabled:_},_?n.createElement(r.G,{spin:!0,icon:s.IJ7}):n.createElement("span",null,"Swap ",Q.current.a?.symbol," for ",Q.current.b?.symbol))),a?.wrapUnwrapAmount&&!j&&n.createElement("button",{type:"button",className:(0,p.AK)("btn-outline w-full p-4",_&&"opacity-50"),onClick:he,disabled:_},_?n.createElement(r.G,{spin:!0,icon:s.IJ7}):n.createElement("span",null,z?"Wrap":"Unwrap")),(!G&&!a?.wrapUnwrapAmount||j)&&n.createElement("div",{className:"w-full rounded-sm border border-white p-4 text-center text-xs opacity-30"},a?.fetchingBestTrade?n.createElement(n.Fragment,null,n.createElement(r.G,{spin:!0,icon:s.IJ7})," Fetching best trade"):n.createElement("span",null,j||"Enter an amount"))):n.createElement("button",{type:"button",className:"btn-outline w-full p-4",onClick:R},"Connect wallet")),n.createElement("div",{className:"lg:hidden"},n.createElement(c.u,{appear:!0,show:!!a?.bestTrade?.pathViz,enter:"transition-all duration-500",enterFrom:"opacity-0 max-h-0 mt-0 mb-0",enterTo:"opacity-100 max-h-[35rem] mt-7",leave:"transition-all duration-500",leaveFrom:"opacity-100 max-h-[35rem] mt-7",leaveTo:"opacity-0 max-h-0 mt-0 mb-0"},n.createElement(N.Z,{data:a?.bestTrade?.pathViz}))))),n.createElement(D,{className:"mt-6"})))),n.createElement(v.Z,{show:V.show,token:V.token,onClose:me}))}},35716:function(e,t,a){e.exports=a.p+"logo.png"},26141:function(e,t,a){a.d(t,{p:function(){return D}});var n,r=a(67294),s=a(32984),o=a(12351),l=a(23784),c=a(19946),i=a(61363),u=a(64103),d=a(16567),m=a(14157),p=a(15466),b=a(73781);let f=null!=(n=r.startTransition)?n:function(e){e()};var h,E=((h=E||{})[h.Open=0]="Open",h[h.Closed=1]="Closed",h),w=(e=>(e[e.ToggleDisclosure=0]="ToggleDisclosure",e[e.CloseDisclosure=1]="CloseDisclosure",e[e.SetButtonId=2]="SetButtonId",e[e.SetPanelId=3]="SetPanelId",e[e.LinkPanel=4]="LinkPanel",e[e.UnlinkPanel=5]="UnlinkPanel",e))(w||{});let y={0:e=>({...e,disclosureState:(0,s.E)(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4(e){return!0===e.linkedPanel?e:{...e,linkedPanel:!0}},5(e){return!1===e.linkedPanel?e:{...e,linkedPanel:!1}},2(e,t){return e.buttonId===t.buttonId?e:{...e,buttonId:t.buttonId}},3(e,t){return e.panelId===t.panelId?e:{...e,panelId:t.panelId}}},g=(0,r.createContext)(null);function k(e){let t=(0,r.useContext)(g);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,k),t}return t}g.displayName="DisclosureContext";let T=(0,r.createContext)(null);function v(e){let t=(0,r.useContext)(T);if(null===t){let t=new Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,v),t}return t}T.displayName="DisclosureAPIContext";let x=(0,r.createContext)(null);function N(e,t){return(0,s.E)(t.type,y,e,t)}x.displayName="DisclosurePanelContext";let S=r.Fragment;let C=o.AN.RenderStrategy|o.AN.Static;let A=(0,o.yV)((function(e,t){let{defaultOpen:a=!1,...n}=e,c=(0,r.useRef)(null),i=(0,l.T)(t,(0,l.h)((e=>{c.current=e}),void 0===e.as||e.as===r.Fragment)),u=(0,r.useRef)(null),m=(0,r.useRef)(null),f=(0,r.useReducer)(N,{disclosureState:a?0:1,linkedPanel:!1,buttonRef:m,panelRef:u,buttonId:null,panelId:null}),[{disclosureState:h,buttonId:E},w]=f,y=(0,b.z)((e=>{w({type:1});let t=(0,p.r)(c);if(!t||!E)return;let a=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:t.getElementById(E):t.getElementById(E);null==a||a.focus()})),k=(0,r.useMemo)((()=>({close:y})),[y]),v=(0,r.useMemo)((()=>({open:0===h,close:y})),[h,y]),x={ref:i};return r.createElement(g.Provider,{value:f},r.createElement(T.Provider,{value:k},r.createElement(d.up,{value:(0,s.E)(h,{0:d.ZM.Open,1:d.ZM.Closed})},(0,o.sY)({ourProps:x,theirProps:n,slot:v,defaultTag:S,name:"Disclosure"}))))})),I=(0,o.yV)((function(e,t){let a=(0,c.M)(),{id:n=`headlessui-disclosure-button-${a}`,...s}=e,[d,p]=k("Disclosure.Button"),f=(0,r.useContext)(x),h=null!==f&&f===d.panelId,E=(0,r.useRef)(null),w=(0,l.T)(E,t,h?null:d.buttonRef);(0,r.useEffect)((()=>{if(!h)return p({type:2,buttonId:n}),()=>{p({type:2,buttonId:null})}}),[n,p,h]);let y=(0,b.z)((e=>{var t;if(h){if(1===d.disclosureState)return;switch(e.key){case i.R.Space:case i.R.Enter:e.preventDefault(),e.stopPropagation(),p({type:0}),null==(t=d.buttonRef.current)||t.focus()}}else switch(e.key){case i.R.Space:case i.R.Enter:e.preventDefault(),e.stopPropagation(),p({type:0})}})),g=(0,b.z)((e=>{if(e.key===i.R.Space)e.preventDefault()})),T=(0,b.z)((t=>{var a;(0,u.P)(t.currentTarget)||e.disabled||(h?(p({type:0}),null==(a=d.buttonRef.current)||a.focus()):p({type:0}))})),v=(0,r.useMemo)((()=>({open:0===d.disclosureState})),[d]),N=(0,m.f)(e,E),S=h?{ref:w,type:N,onKeyDown:y,onClick:T}:{ref:w,id:n,type:N,"aria-expanded":e.disabled?void 0:0===d.disclosureState,"aria-controls":d.linkedPanel?d.panelId:void 0,onKeyDown:y,onKeyUp:g,onClick:T};return(0,o.sY)({ourProps:S,theirProps:s,slot:v,defaultTag:"button",name:"Disclosure.Button"})})),P=(0,o.yV)((function(e,t){let a=(0,c.M)(),{id:n=`headlessui-disclosure-panel-${a}`,...s}=e,[i,u]=k("Disclosure.Panel"),{close:m}=v("Disclosure.Panel"),p=(0,l.T)(t,i.panelRef,(e=>{f((()=>u({type:e?4:5})))}));(0,r.useEffect)((()=>(u({type:3,panelId:n}),()=>{u({type:3,panelId:null})})),[n,u]);let b=(0,d.oJ)(),h=null!==b?(b&d.ZM.Open)===d.ZM.Open:0===i.disclosureState,E=(0,r.useMemo)((()=>({open:0===i.disclosureState,close:m})),[i,m]),w={ref:p,id:n};return r.createElement(x.Provider,{value:i.panelId},(0,o.sY)({ourProps:w,theirProps:s,slot:E,defaultTag:"div",features:C,visible:h,name:"Disclosure.Panel"}))})),D=Object.assign(A,{Button:I,Panel:P})}}]);